# PRレビューレポートテンプレート

## テンプレート構造

```markdown
# PR Review: #{PR_NUMBER} - {PR_TITLE}

**リポジトリ:** {OWNER/REPO}
**ブランチ:** `{HEAD_BRANCH}` → `{BASE_BRANCH}`
**作成者:** {AUTHOR}
**URL:** {PR_URL}
**レビュー日:** {YYYY-MM-DD}
**検出テックスタック:** {Kotlin/Spring | TypeScript/Next.js | Both | 未検出}

---

## エグゼクティブサマリー

{PRの全体品質、主要な懸念点、推奨アクションの2〜4文の要約}

**総合判定:** APPROVE | REQUEST_CHANGES | COMMENT

**指摘サマリー:**
| 重要度 | 件数 |
|--------|------|
| CRITICAL | {N} |
| WARNING | {N} |
| INFO | {N} |
| SUGGESTION | {N} |

---

## Critical Findings

{CRITICAL重要度の指摘。ない場合は「CRITICALレベルの指摘はありません。」}

### {番号}. {指摘タイトル}

- **観点:** {どのレビュー観点からの指摘か}
- **重要度:** CRITICAL
- **ファイル:** `{file_path}:{line_range}`
- **問題:** {問題の説明}
- **コード:**
  ```{language}
  {差分から該当コードスニペット}
  ```
- **推奨対応:** {修正方法とその理由}

{各CRITICAL指摘について繰り返す。番号は連番}

---

## Warnings

{WARNING重要度の指摘。ない場合は「WARNINGレベルの指摘はありません。」}

### {番号}. {指摘タイトル}

- **観点:** {レビュー観点}
- **重要度:** WARNING
- **ファイル:** `{file_path}:{line_range}`
- **問題:** {問題の説明}
- **推奨対応:** {修正方法}

{各WARNING指摘について繰り返す}

---

## Suggestions & Info

{INFO/SUGGESTION重要度の指摘。ない場合は「追加の提案・情報はありません。」}

### {番号}. {タイトル}（{INFO | SUGGESTION}）

- **観点:** {レビュー観点}
- **ファイル:** `{file_path}`
- **内容:** {説明と推奨対応}

{各指摘について繰り返す}

---

## 要件整合性

{リンクされたIssueとの整合性の要約}

### リンクされたIssue

| Issue | タイトル | カバレッジ |
|-------|---------|-----------|
| #{N} | {TITLE} | COVERED / PARTIALLY_COVERED / NOT_COVERED |

### ギャップ

{このPRで対応されていない要件。ない場合は「要件のギャップは検出されませんでした。」}

---

## 変更ファイルサマリー

| ファイル | 変更量 | 主要な指摘 |
|---------|--------|-----------|
| `{path}` | +{additions}/-{deletions} | {簡潔なメモ} |
```

## 使用ガイドライン

### 重要度の基準

- **CRITICAL**: セキュリティ脆弱性、データ損失リスク、本番障害の可能性がある問題。マージ前に必ず修正が必要
- **WARNING**: ベストプラクティス違反、性能問題、保守性の低下。修正を強く推奨
- **INFO**: 改善の余地があるが、現状でも許容できる。次のPRで対応可能
- **SUGGESTION**: コードの質を高める提案。任意の対応

### 総合判定の基準

- **REQUEST_CHANGES**: CRITICALが1件以上ある場合
- **COMMENT**: CRITICALはないが、WARNINGがある場合
- **APPROVE**: INFOとSUGGESTIONのみ、または指摘なし

### 記述のポイント

- 指摘は具体的に：ファイルパスと行番号を必ず含める
- コードスニペットを添えて問題箇所を明示する
- 推奨対応は実行可能な内容にする
- 同一ファイル・行範囲で複数観点から指摘がある場合はマージする
- レビュー観点をタグ付けして、どの観点からの指摘かを明示する
